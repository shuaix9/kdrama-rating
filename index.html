<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>韓劇評分器</title>
<style>
  :root {
    --main-color: #d81b60;
    --pink: #f06292;
    --light: #f8bbd0;
  }

  body {
    font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
    margin: 0;
    padding: 0;
    background: #fdf6f6;
    min-height: 100vh;
    line-height: 1.7;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
  }

  h1 {
    color: var(--main-color);
    text-align: center;
    font-size: clamp(2rem, 8vw, 3rem);
    margin: 30px 0 20px;
  }

  #dramaName {
    width: 100%;
    padding: 16px;
    font-size: clamp(1.3rem, 5vw, 1.6rem);
    text-align: center;
    border: 3px solid var(--pink);
    border-radius: 16px;
    box-sizing: border-box;
    margin-bottom: 20px;
  }

  .q {
    background: white;
    padding: clamp(16px, 4vw, 24px);
    margin: 16px 0;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(216,27,96,0.2);
  }

  label {
    font-weight: bold;
    color: #ad1457;
    font-size: clamp(1.1rem, 4.5vw, 1.3rem);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
  }

  input[type=number] {
    width: 50px;
    height: 35px;
    padding: 2px;
    font-size: 1.2rem;
    text-align: center;
    border: 3px solid var(--pink);
    border-radius: 12px;
    background: #fff5f8;
  }

  .tip {
    font-size: clamp(0.95rem, 3.8vw, 1.05rem);
    color: #c51162;
    margin-top: 12px;
    line-height: 1.6;
    padding-left: 5px;
  }

  button {
    background: #ec407a;
    color: white;
    width: 90%;
    max-width: 500px;
    padding: 18px;
    font-size: clamp(1.4rem, 5vw, 1.8rem);
    border: none;
    border-radius: 50px;
    cursor: pointer;
    margin: 50px auto;
    display: block;
    box-shadow: 0 6px 20px rgba(236,64,122,0.4);
    transition: all 0.3s;
  }

  button:hover, button:active {
    background: #c51162;
    transform: translateY(-3px);
  }

  #result {
    text-align: center;
    font-size: clamp(2.5rem, 10vw, 4rem);
    margin: 40px 0;
    color: var(--main-color);
    font-weight: bold;
  }

  #today {
    text-align: center;
    color: #ad1457;
    font-size: clamp(1.1rem, 4vw, 1.4rem);
    margin: 20px 0;
  }

  @media (max-width: 480px) {
    .container { padding: 15px; }
    input[type=number] { width: 65px; height: 55px; font-size: 2rem; }
    button { width: 95%; padding: 20px; }
    .tip { font-size: 1rem; }
  }
</style>
</head>
<body>
<div class="container">

	<h1>韓劇評分器</h1>
	<input type="text" id="dramaName" placeholder="請輸入劇名" autofocus>

	<div class="q"><label>1. 每集結束的衝動程度　　<input type="number" id="q1" min="0" max="10" value="10"></label>
	<div class="tip">10分：看完立刻看下一集，停不下來<br>8分：會想追，但可以忍到明天<br>6分：還好，沒特別期待<br>3分：看完就關掉，改天繼續再看<br>0分：會猶豫要不要不看了</div></div>

	<div class="q"><label>2. 專注度（不會滑手機/分心）　　<input type="number" id="q2" min="0" max="10" value="10"></label>
	<div class="tip">10分：全程目不轉睛，手機完全不碰<br>7分：偶爾看一下手機但很快回來<br>3分以下：一直分心、快轉</div></div>

	<div class="q"><label>3. 睡前腦內迴放程度　　<input type="number" id="q3" min="0" max="10" value="10"></label>
	<div class="tip">10分：躺床上一閉眼全是劇中畫面，睡不著<br>7分：會一直想但還能睡<br>5分：偶爾閃過<br>0分：完全忘記</div></div>

	<div class="q"><label>4. 完結速度（總共花幾天看完）　　<input type="number" id="q4" min="0" max="10" value="10"></label>
	<div class="tip">10分：1–2天（狂追）<br>8分：3–4天<br>6分：5–7天<br>4分：8–14天<br>2分：超過2週或棄劇</div></div>

	<div class="q"><label>5. 看完後還會搜尋相關內容　　<input type="number" id="q5" min="0" max="10" value="10"></label>
	<div class="tip">10分：馬上Google、看幕後、刷CP、找訪問<br>7分：會想看花絮或OST<br>4分：隨便看一下劇名就關掉<br>0分：完全不想再碰任何相關內容</div></div>

	<div class="q"><label>6. 男女主角顏值加分　　<input type="number" id="q6" min="0" max="10" value="10"></label>
	<div class="tip">10分：神仙顏值，直接+2分整體分數的衝動<br>7分：超好看<br>5分：普通<br>3分以下：路邊</div></div>

	<div class="q"><label>7. 配角　　<input type="number" id="q7" min="0" max="10" value="10"></label>
	<div class="tip">10分：配角搶戲<br>5分：有幾個亮點<br>0分：全部工具人</div></div>

	<div class="q"><label>8. 感情線甜度／心動指數　　<input type="number" id="q8" min="0" max="10" value="10"></label>
	<div class="tip">10分：尖叫、捶床、姨母笑停不下來<br>7分：甜但不膩<br>4分以下：平淡、無聊</div></div>

	<div class="q"><label>9. 劇情節奏　　<input type="number" id="q9" min="0" max="10" value="10"></label>
	<div class="tip">10分：節奏完美、毫無冷場<br>8分：大部分都流暢，有少數緩慢片段，整體推進速度剛好<br>6分：節奏普通，有些集數很好看、有些有點拖<br>4分：明顯拖戲、重複、注水<br>2分：節奏混亂或突然亂跳<br>0分：完全看不下去，節奏又慢又亂</div></div>

	<div class="q"><label>10. 重刷價值　　<input type="number" id="q10" min="0" max="10" value="10"></label>
	<div class="tip">10分：隨時可以二刷、三刷<br>7分：隔幾年會想重溫<br>4分：一次就夠了<br>0分：絕對不會再看</div></div>

	<div class="q"><label>11. 結局滿意度　　<input type="number" id="q11" min="0" max="10" value="10"></label>
	<div class="tip">10分：完美收尾、意猶未盡但圓滿<br>8分：好但小缺憾<br>5分：爛尾但前段救回來<br>3分以下：災難</div></div>

	<div id="result"></div>
	<div id="today" style="text-align:center; color:#ad1457; font-size:1.2em; margin:20px 0;"></div>  <!-- 新增這行 -->
	<button onclick="calc()">提交並下載完整評分表</button>
	
</div>
<script>
function calc() {
  const name = document.getElementById('dramaName').value.trim() || "未命名韓劇";
  const scores = [];
  for(let i=1; i<=11; i++){
    let v = parseFloat(document.getElementById('q'+i).value) || 0;
    if(v>10) v=10; if(v<0) v=0;
    scores.push(v);
  }
  const total = scores.reduce((a,b)=>a+b, 0);
  const avg = (total/11).toFixed(1);

  const today = new Date().toISOString().split('T')[0];

  document.getElementById('result').innerHTML = `<strong>${name}</strong><br>最終得分：${avg} / 10`;
  document.getElementById('today').innerHTML = `評分日期：${today}`;

  const html = `<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><title>${name} 評分 ${avg}分</title><style>
    body{font-family:"Noto Sans TC",sans-serif;background:#fff1f8;max-width:800px;margin:40px auto;padding:20px;line-height:1.8;}
    h1{color:#d81b60;text-align:center;font-size:2em;}
    .score{font-size:2em;text-align:center;color:#ec407a;margin:2px 0;font-weight:bold;}
    table{width:100%;border-collapse:collapse;margin:30px 0;}
    th,td{border:2px solid #f06292;padding:14px;text-align:left;font-size:1.1em;}
    th{background:#f8bbd0;}
    tr:last-child td{background:#f8bbd0;font-size:1.6em;font-weight:bold;text-align:center;}
  </style></head><body>
  <h1>韓劇評分表<br>《${name}》<br><small style="font-size:0.6em;color:#ad1457;"></small></h1>
  <div class="score">${avg} / 10</div>
  <table>
    <tr><th>項目</th><th>分數</th><th>描述</th></tr>
    <tr><td>1. 每集結束的衝動程度</td><td>${scores[0]}</td><td>${desc(1,scores[0])}</td></tr>
    <tr><td>2. 專注度（不會滑手機/分心）</td><td>${scores[1]}</td><td>${desc(2,scores[1])}</td></tr>
    <tr><td>3. 睡前腦內迴放程度</td><td>${scores[2]}</td><td>${desc(3,scores[2])}</td></tr>
    <tr><td>4. 完結速度（總共花幾天看完）</td><td>${scores[3]}</td><td>${desc(4,scores[3])}</td></tr>
    <tr><td>5. 看完後還會搜尋相關內容</td><td>${scores[4]}</td><td>${desc(5,scores[4])}</td></tr>
    <tr><td>6. 男女主角顏值加分</td><td>${scores[5]}</td><td>${desc(6,scores[5])}</td></tr>
    <tr><td>7. 配角</td><td>${scores[6]}</td><td>${desc(7,scores[6])}</td></tr>
    <tr><td>8. 感情線甜度／心動指數</td><td>${scores[7]}</td><td>${desc(8,scores[7])}</td></tr>
    <tr><td>9. 劇情節奏</td><td>${scores[8]}</td><td>${desc(9,scores[8])}</td></tr>
    <tr><td>10. 重刷價值</td><td>${scores[9]}</td><td>${desc(10,scores[9])}</td></tr>
    <tr><td>11. 結局滿意度</td><td>${scores[10]}</td><td>${desc(11,scores[10])}</td></tr>
    <tr><td colspan="3">最終得分：${avg} / 10</td></tr>
  </table>
  <p style="text-align:center;color:#999;font-size:0.9em;">評分日期：${today}</p>
  <p style="text-align:center;color:#999;font-size:0.9em;">韓劇評分器產生</p>
  </body></html>`;

  const blob = new Blob([html], {type:'text/html'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `${name}_評分_${avg}分_${today}.html`; 
  a.click();
}

function desc(q, s) {
  const table = {
    1:  ["會猶豫要不要不看了", "看完就關掉，改天繼續再看", "看完就關掉，改天繼續再看", "看完就關掉，改天繼續再看", "還好，沒特別期待", "還好，沒特別期待", "還好，沒特別期待", "會想追，但可以忍到明天", "會想追，但可以忍到明天", "看完立刻看下一集，停不下來", "看完立刻看下一集，停不下來"],
    2:  ["一直分心、快轉", "一直分心、快轉", "一直分心、快轉", "一直分心、快轉", "偶爾看一下手機但很快回來", "偶爾看一下手機但很快回來", "偶爾看一下手機但很快回來", "偶爾看一下手機但很快回來", "全程目不轉睛，手機完全不碰", "全程目不轉睛，手機完全不碰", "全程目不轉睛，手機完全不碰"],
    3:  ["完全忘記", "偶爾閃過", "偶爾閃過", "偶爾閃過", "偶爾閃過", "偶爾閃過", "會一直想但還能睡", "會一直想但還能睡", "躺床上一閉眼全是劇中畫面，睡不著", "躺床上一閉眼全是劇中畫面，睡不著", "躺床上一閉眼全是劇中畫面，睡不著"],
    4:  ["超過2週或棄劇", "超過2週或棄劇", "超過2週或棄劇", "8–14天", "8–14天", "5–7天", "5–7天", "3–4天", "3–4天", "1–2天（狂追）", "1–2天（狂追）"],
    5:  ["完全不想再碰任何相關內容", "隨便看一下劇名就關掉", "隨便看一下劇名就關掉", "隨便看一下劇名就關掉", "隨便看一下劇名就關掉", "會想看花絮或OST", "會想看花絮或OST", "會想看花絮或OST", "馬上Google、看幕後、刷CP、找訪問", "馬上Google、看幕後、刷CP、找訪問", "馬上Google、看幕後、刷CP、找訪問"],
    6:  ["路邊", "路邊", "路邊", "路邊", "普通", "普通", "超好看", "超好看", "神仙顏值，直接+2分整體分數的衝動", "神仙顏值，直接+2分整體分數的衝動", "神仙顏值，直接+2分整體分數的衝動"],
    7:  ["全部工具人", "有幾個亮點", "有幾個亮點", "有幾個亮點", "有幾個亮點", "有幾個亮點", "配角搶戲", "配角搶戲", "配角搶戲", "配角搶戲", "配角搶戲"],
    8:  ["平淡、無聊", "平淡、無聊", "平淡、無聊", "平淡、無聊", "平淡、無聊", "甜但不膩", "甜但不膩", "甜但不膩", "尖叫、捶床、姨母笑停不下來", "尖叫、捶床、姨母笑停不下來", "尖叫、捶床、姨母笑停不下來"],
    9:  ["完全看不下去，節奏又慢又亂", "節奏混亂或突然亂跳", "節奏混亂或突然亂跳", "明顯拖戲、重複、注水", "明顯拖戲、重複、注水", "節奏普通，有些集數很好看、有些有點拖", "節奏普通，有些集數很好看、有些有點拖", "大部分都流暢，有少數緩慢片段，整體推進速度剛好", "大部分都流暢，有少數緩慢片段，整體推進速度剛好", "節奏完美、毫無冷場", "節奏完美、毫無冷場"],
    10: ["絕對不會再看", "一次就夠了", "一次就夠了", "一次就夠了", "一次就夠了", "隔幾年會想重溫", "隔幾年會想重溫", "隔幾年會想重溫", "隨時可以二刷、三刷", "隨時可以二刷、三刷", "隨時可以二刷、三刷"],
    11: ["災難", "災難", "災難", "災難", "爛尾但前段救回來", "爛尾但前段救回來", "好但小缺憾", "好但小缺憾", "好但小缺憾", "完美收尾、意猶未盡但圓滿", "完美收尾、意猶未盡但圓滿"]
  };
  return table[q][s];
}

</script>
</body>
</html>
